# æœ¬åœ°çŸ¥è¯†åº“ (Local RAG)

åŸºäº Electron + React çš„æœ¬åœ° RAG çŸ¥è¯†åº“åº”ç”¨ï¼Œæ”¯æŒå¤šæ ¼å¼æ–‡æ¡£å¯¼å…¥ã€æœ¬åœ°å‘é‡åŒ–å­˜å‚¨ã€å¤šæ¨¡å‹é—®ç­”ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ–¥ï¸ **æ¡Œé¢åº”ç”¨** - Electron è·¨å¹³å°ï¼Œæ”¯æŒæ‹–æ”¾æ–‡ä»¶
- ğŸ”’ **æœ¬åœ°ä¼˜å…ˆ** - Embeddings æœ¬åœ°è¿è¡Œï¼Œæ•°æ®ä¸å‡ºæœ¬åœ°
- ğŸ¤– **å¤šæ¨¡å‹** - æ”¯æŒ DeepSeek / Gemini åˆ‡æ¢
- ğŸ“„ **å¤šæ ¼å¼** - æ”¯æŒ PDFã€DOCXã€HTMLã€TXTã€MD
- âš¡ **æµå¼è¾“å‡º** - å®æ—¶é€å­—æ˜¾ç¤º AI å›å¤

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Electron ä¸»è¿›ç¨‹                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  React UI   â”‚â—„â”€â”€â–ºâ”‚  IPC Bridge â”‚â—„â”€â”€â–ºâ”‚  Worker Thread  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚           â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                          â”‚         RAG Engine             â”‚  â”‚
â”‚                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚                          â”‚  â”‚ Loader  â”‚   â”‚ Retrieval â”‚   â”‚  â”‚
â”‚                          â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚                          â”‚       â”‚              â”‚          â”‚  â”‚
â”‚                          â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚                          â”‚  â”‚Embeddingâ”‚   â”‚  SQLite   â”‚   â”‚  â”‚
â”‚                          â”‚  â”‚ (Local) â”‚   â”‚  + VSS    â”‚   â”‚  â”‚
â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚    LLM API        â”‚
                          â”‚ DeepSeek / Gemini â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` å¡«å…¥ API Keyï¼š

```env
DEEPSEEK_API_KEY=your_deepseek_key
GOOGLE_API_KEY=your_google_key
```

### 3. å¯åŠ¨åº”ç”¨

```bash
npm run dev
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ app/                  # React å‰ç«¯
â”‚   â”œâ”€â”€ components/       # UI ç»„ä»¶
â”‚   â””â”€â”€ App.tsx           # ä¸»åº”ç”¨
â”œâ”€â”€ electron/             # Electron ä¸»è¿›ç¨‹
â”‚   â””â”€â”€ main.js           # å…¥å£
â”œâ”€â”€ src/                  # æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ loader.ts         # æ–‡æ¡£åŠ è½½åˆ†å‰²
â”‚   â”œâ”€â”€ model.ts          # Embeddings & LLM
â”‚   â”œâ”€â”€ rag.ts            # RAG æ£€ç´¢ç”Ÿæˆ
â”‚   â”œâ”€â”€ sqliteStore.ts    # å‘é‡å­˜å‚¨
â”‚   â”œâ”€â”€ worker.ts         # Worker çº¿ç¨‹
â”‚   â””â”€â”€ config.ts         # é…ç½®
â””â”€â”€ docs/
    â””â”€â”€ ai-learning/      # AI å­¦ä¹ æ–‡æ¡£
```

## ï¿½ å­¦ä¹ æ–‡æ¡£

é¡¹ç›®åŒ…å«è¯¦ç»†çš„ AI çŸ¥è¯†ç‚¹å­¦ä¹ æ–‡æ¡£ï¼Œä½äº `docs/ai-learning/`ï¼š

| æ–‡æ¡£ | å†…å®¹ |
|-----|-----|
| [00-architecture.md](docs/ai-learning/00-architecture.md) | æ•´ä½“æ¶æ„æµç¨‹å›¾ |
| [01-rag.md](docs/ai-learning/01-rag.md) | RAG æ£€ç´¢å¢å¼ºç”Ÿæˆ |
| [02-vector-store.md](docs/ai-learning/02-vector-store.md) | å‘é‡å­˜å‚¨ |
| [03-embeddings.md](docs/ai-learning/03-embeddings.md) | æ–‡æœ¬åµŒå…¥ |
| [04-llm.md](docs/ai-learning/04-llm.md) | å¤§è¯­è¨€æ¨¡å‹ |
| [05-document-loader.md](docs/ai-learning/05-document-loader.md) | æ–‡æ¡£åŠ è½½åˆ†å‰² |
| [06-streaming.md](docs/ai-learning/06-streaming.md) | æµå¼ç”Ÿæˆ |

## ï¿½ MCP é›†æˆ

æœ¬é¡¹ç›®æ”¯æŒ [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)ï¼Œå¯è¢« Claude Desktopã€Cursor ç­‰ AI å·¥å…·è°ƒç”¨ã€‚

### æä¾›çš„å·¥å…·

| å·¥å…· | è¯´æ˜ |
|-----|-----|
| `get_file_list` | è·å–çŸ¥è¯†åº“ä¸­æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ |
| `ask_question` | å‘çŸ¥è¯†åº“æé—® (æ”¯æŒé€‰æ‹© deepseek/gemini) |
| `delete_file` | åˆ é™¤æŒ‡å®šæ–‡ä»¶åŠå…¶å‘é‡ç´¢å¼• |
| `get_status` | è·å–çŸ¥è¯†åº“çŠ¶æ€ (æ–‡æ¡£å—æ•°é‡) |

### æä¾›çš„èµ„æº

| èµ„æº URI | è¯´æ˜ |
|---------|-----|
| `library://files` | çŸ¥è¯†åº“æ–‡ä»¶åˆ—è¡¨ (JSON) |
| `library://status` | çŸ¥è¯†åº“çŠ¶æ€ä¿¡æ¯ (JSON) |

### é…ç½®ç¤ºä¾‹

åœ¨ Claude Desktop çš„ `claude_desktop_config.json` ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "library": {
      "command": "node",
      "args": ["/path/to/library/electron/mcp_server.js"],
      "env": {
        "DEEPSEEK_API_KEY": "your_key",
        "MCP_DEBUG": "false"
      }
    }
  }
}
```

### ä½¿ç”¨åœºæ™¯

- **Claude Desktop** - è®© Claude ç›´æ¥æŸ¥è¯¢ä½ çš„æœ¬åœ°çŸ¥è¯†åº“
- **Cursor** - åœ¨ç¼–ç¨‹æ—¶å¼•ç”¨é¡¹ç›®æ–‡æ¡£
- **è‡ªå®šä¹‰ Agent** - æ„å»ºèƒ½è®¿é—®ç§æœ‰çŸ¥è¯†çš„ AI åº”ç”¨

## ï¿½ğŸ› ï¸ æ ¸å¿ƒé…ç½®

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|-----|-------|-----|
| `chunkSize` | 500 | æ–‡æ¡£åˆ†å—å¤§å° |
| `chunkOverlap` | 100 | å—é‡å å­—ç¬¦æ•° |
| `retrievalK` | 3 | æ£€ç´¢ Top-K |
| `similarityThreshold` | 0.8 | ç›¸ä¼¼åº¦é˜ˆå€¼ |
| `historyLimit` | 5 | å¯¹è¯å†å²è½®æ•° |

## ğŸ“ License

MIT
